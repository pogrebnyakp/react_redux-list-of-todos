(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var n,r=c(8),s=c.n(r),o=c(2),a=c(13),d=c(4),i=c(15);!function(e){e.AddTodos="addTodos",e.AddTodo="addTodo",e.SetSelectedUserId="selectedUserId",e.FilterTodos="filterTodos",e.SearchTitleTodos="searchTitleTodos"}(n||(n={}));var u,l={todos:[],selectedUserId:0},j=Object(i.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.AddTodos:return Object(d.a)(Object(d.a)({},e),{},{todos:[].concat(Object(a.a)(e.todos),Object(a.a)(t.payload))});case n.SetSelectedUserId:return Object(d.a)(Object(d.a)({},e),{},{selectedUserId:t.payload});default:return e}})),b=c(10),O=c(3),p=c(5),h=c.n(p),f=c(0),m=(c(24),c(25),c(7)),x=c.n(m),v=function(e){return e.todos},_=function(e){return e.selectedUserId},T=function(e){return{type:n.SetSelectedUserId,payload:e}},y=function(e){return{type:n.AddTodos,payload:e}},N=T,C=c(1);!function(e){e.All="All",e.Active="Active",e.Completed="Completed"}(u||(u={}));var S=function(){var e=N,t=Object(f.useState)(""),c=Object(O.a)(t,2),n=c[0],r=c[1],s=Object(f.useState)(""),a=Object(O.a)(s,2),d=a[0],i=a[1],l=Object(o.c)(v),j=Object(o.c)(_),b=Object(o.b)(),p=Object(f.useMemo)((function(){var e=l.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())}));switch(d){case u.Active:return e.filter((function(e){return!e.completed}));case u.Completed:return e.filter((function(e){return e.completed}));case u.All:default:return e}}),[l,n,d]);return Object(C.jsxs)("div",{className:"TodoList",children:[Object(C.jsx)("h2",{children:"Todos:"}),Object(C.jsx)("input",{type:"text",className:"TodoList__input",placeholder:"Type search word",value:n,onChange:function(e){r(e.target.value)}}),Object(C.jsx)("select",{className:"TodoList__select",onChange:function(e){i(e.target.value)},value:d,children:Object.keys(u).map((function(e){return Object(C.jsx)("option",{value:e,children:e},e)}))}),Object(C.jsx)("div",{className:"TodoList__list-container",children:Object(C.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:p.map((function(t){return Object(C.jsxs)("li",{className:x()({TodoList__item:!0,"TodoList__item--unchecked":!t.completed,"TodoList__item--checked":t.completed}),children:[Object(C.jsxs)("label",{children:[Object(C.jsx)("input",{type:"checkbox",readOnly:!0,checked:t.completed}),Object(C.jsx)("p",{children:t.title})]}),Object(C.jsxs)("button",{className:x()("TodoList__user-button",{"TodoList__user-button--selected":t.userId===j},"button"),"data-cy":"filterByTitle",type:"button",onClick:function(){return b(e(t.userId))},children:["User\xa0#",t.userId]})]},t.id)}))})})]})},k=function(){var e=Object(b.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://mate.academy/students-api/","/").concat(t));case 2:if((c=e.sent).ok){e.next=5;break}throw new Error("Status of error: ".concat(c.status));case 5:return e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=(c(27),function(){var e=Object(f.useState)(null),t=Object(O.a)(e,2),c=t[0],n=t[1],r=Object(f.useState)(""),s=Object(O.a)(r,2),a=s[0],d=s[1],i=Object(o.c)(_),u=Object(o.b)();return Object(f.useEffect)((function(){var e;(e=i,k("users/".concat(e))).then((function(e){return n(e)})).catch((function(e){return d(e.toString())}))}),[i]),a?Object(C.jsx)("div",{children:a}):Object(C.jsx)("div",{className:"CurrentUser",children:c?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{className:"CurrentUser__title",children:Object(C.jsxs)("span",{"data-cy":"userButton",children:["Selected user:",c.id]})}),Object(C.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:c.name}),Object(C.jsx)("p",{className:"CurrentUser__email",children:c.email}),Object(C.jsx)("p",{className:"CurrentUser__phone",children:c.phone}),Object(C.jsx)("button",{className:x()("TodoList__user-button",{"TodoList__user-button--selected":c.id===i},"button"),type:"button",onClick:function(){return u(T(0))},children:"Clear"})]}):Object(C.jsx)("p",{children:"loading..."})})}),A=function(){var e=y,t=Object(f.useState)(""),c=Object(O.a)(t,2),n=c[0],r=c[1],s=Object(o.c)(v),a=Object(o.c)(_),d=Object(o.b)();return Object(f.useEffect)((function(){var t=function(){var t=Object(b.a)(h.a.mark((function t(){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k("todos");case 3:c=t.sent,d(e(c)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r("Can't download data from server!");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[d]),n?Object(C.jsx)("div",{children:n}):Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)("div",{className:"App__sidebar",children:s?Object(C.jsx)(S,{}):Object(C.jsx)("p",{children:"loading..."})}),Object(C.jsx)("div",{className:"App__content",children:Object(C.jsx)("div",{className:"App__content-container",children:a?Object(C.jsx)(w,{}):"No user selected"})})]})},L=function(){return Object(C.jsx)(o.a,{store:j,children:Object(C.jsx)(A,{})})};s.a.render(Object(C.jsx)(L,{}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.7b521465.chunk.js.map